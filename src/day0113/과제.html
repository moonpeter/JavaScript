<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        fieldset {
            width: 500px;
        }

        legend {
            text-align: center;
            font-size: xx-large;
        }

        label {
            font-size: large;
        }

        input {
            display: inline-block;
            border: none;
            background-color: lightgrey;
        }

        button {
            width: 50%;
            height: 30px;
            background-color: red;
            border: none;
            color: white;
        }

        button:nth-child(49) {
            background-color: green;
        }
    </style>
</head>
<body>
<form action="send.html" method="get" name="myform" id="myform" onsubmit="return check()">
    <fieldset>
        <legend>유효성 검사</legend>
        <label>ID</label><br>
        <input type="text" size="10" name="id" id="id" placeholder="Enter Id">
        <input type="button" value="ID중복검사" onclick="idcheck()"><br>

        <label>비밀번호</label><br>
        <input type="password" name="pass" id="pass" placeholder="Enter Password"><br>

        <label>주민번호</label><br>
        <input type="text" size="6" maxlength="6" name="jumin1" id="jumin1" onkeyup="move()" placeholder="주민번호 앞자리">
        <input type="text" size="7" maxlength="7" name="jumin2" id="jumin2" onkeyup="move()" placeholder="주민번호 뒷자리"><br>

        <label>E-Mail</label><br>
        <input type="text" name="email" id="email">
        @
        <input type="text" name="domain" id="domain">
        <select name=sel id=sel oninput="domain1()">
            <option value="">직접입력</option>
            <option value="naver.com">naver.com</option>
            <option value="daum.net">daum.net</option>
            <option value="nate.com">nate.com</option>
            <option value="gmail.com">gmail.com</option>
        </select><br>

        <label>성별</label><br>
        <input type="radio" name="gender" value="m" id="gender1">남자
        <input type="radio" name="gender" value="f" id="gender2">여자
        <br>

        <label>취미</label><br>
        <input type="checkbox" name="hobby" id="hobby1" value="공부">공부
        <input type="checkbox" name="hobby" id="hobby2" value="게임">게임
        <input type="checkbox" name="hobby" id="hobby3" value="운동">운동
        <input type="checkbox" name="hobby" id="hobby4" value="등산">등산
        <input type="checkbox" name="hobby" id="hobby5" value="낚시">낚시
        <br>

        <label>우편번호</label><br>
        <input type="text" size="3" maxlength="5" name="post1" id="post1">
        <input type="button" value="우편검색" onclick="post()">
        <br>

        <label>주소</label><br>
        <input type="text" size="50" name="address" id="address">
        <br>

        <label>자기소개</label><br>
        <textarea name="intro" id="intro" cols="75" rows="10"></textarea>
        <br>
        <button type="reset" value="취소">Cancel</button><button type="submit" value="회원가입">Sign Up</button>
    </fieldset>
</form>

<script>

    function check() {
        var id = document.querySelector('#id');
        var pass = document.querySelector('#pass');
        var jumin1 = document.querySelector('#jumin1');
        var jumin2 = document.querySelector('#jumin2');
        var mail = document.querySelector('#email');
        var domain = document.querySelector('#domain');
        var gender = document.getElementsByName('gender');
        var hobby = document.getElementsByName('hobby');
        var post = document.querySelector('#post1');
        var address = document.querySelector('#address');
        var intro = document.querySelector('#intro');

        var genderCheck = false;
        for (var i = 0; i < gender.length; i++) {
            if (gender[i].checked) {
                genderCheck = true;
            }
        }

        var count = 0;
        for (var j = 0; j < hobby.length; j++) {
            if (hobby[j].checked) {
                count++;
            }
        }

        if (id.value == '') {
            alert('아이디를 입력하세요');
            id.focus();
            return false;
        } else if (pass.value == '') {
            alert('비밀번호를 입력하세요');
            pass.focus();
            return false;
        } else if (jumin1.value == '') {
            alert('주민번호 앞자리를 입력하세요')
            jumin1.focus();
            return false;
        } else if (jumin2.value == '') {
            alert('주민번호 뒷자리를 입력하세요')
            jumin2.focus();
            return false;
        } else if (mail.value == '') {
            alert('메일 주소를 입력하세요');
            mail.focus();
            return false;
        } else if (domain.value == '') {
            alert('도메인 주소를 입력하세요');
            domain.focus();
            return false;
        } else if (genderCheck === false) {
            alert('성별을 선택하세요')
            return false;
        } else if (count < 2) {
            alert('취미를 2개 이상 선택하세요');
            return false;
        } else if (post.value == '') {
            alert('우편번호를 입력하세요');
            post.focus();
            return false;
        } else if (address.value == '') {
            alert('주소를 입력하세요');
            address.focus();
            return false;
        } else if (intro.value == '') {
            alert('자기소개를 입력하세요');
            intro.focus();
            return false;
        }
    }

    function idcheck() {
        var id = document.querySelector('#id');
        if (id.value == '') {
            alert('ID를 입력하세요');
            id.focus();
        } else {
            var url = "http://localhost:63342/JavaScript/day0113/idcheck.html?id=" + id.value;
            window.open(url, 'id', "width=300, height=250");
        }
    }

    function move() {
        var jumin1 = document.querySelector('#jumin1');
        var jumin2 = document.querySelector('#jumin2');
        if (jumin1.value.length == 6) {
            jumin2.focus();
        } else if (isNaN(jumin1.value)) {
            alert('숫자를 입력하세요');
            jumin1.focus();
        }
        if (isNaN(jumin2.value)) {
            alert('숫자를 입력하세요');
            jumin2.focus();
        }
    }

    function domain1() {
        var domain = document.querySelector('#domain');
        domain.value = this.document.querySelector('#sel').value;
    }

    function post() {
        window.open("post.html", 'post', 'width=400, height=500');
    }
</script>

</body>
</html>